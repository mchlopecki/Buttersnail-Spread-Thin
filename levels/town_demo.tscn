[gd_scene load_steps=9 format=3 uid="uid://bglf35lwhp0ru"]

[ext_resource type="Sky" uid="uid://dxxjl28ansdt3" path="res://assets/skybox/sky_pan.tres" id="1_rlitn"]
[ext_resource type="PackedScene" uid="uid://cmkfi1tveftlt" path="res://player/butter_snail.tscn" id="2_wr5qg"]
[ext_resource type="PhysicsMaterial" uid="uid://c4jrubghsckvo" path="res://physics_materials/absorbant_surface.tres" id="3_a4vgl"]
[ext_resource type="PackedScene" uid="uid://dvviptjwqc6td" path="res://assets/buildings/town.blend" id="3_lynx1"]
[ext_resource type="PackedScene" uid="uid://bnxapp1cun4o5" path="res://items/item.tscn" id="4_xcfxg"]
[ext_resource type="PackedScene" uid="uid://clmfslnqaqs0i" path="res://items/item_dropoff.tscn" id="5_ugm2w"]

[sub_resource type="Environment" id="Environment_ejlgs"]
background_mode = 2
sky = ExtResource("1_rlitn")
sky_custom_fov = 50.0
sky_rotation = Vector3(-0.436332, 0, 0)
reflected_light_source = 2
tonemap_mode = 3
ssil_radius = 1.0
ssil_intensity = 3.0
ssil_sharpness = 0.5
sdfgi_enabled = true
sdfgi_min_cell_size = 0.1
sdfgi_y_scale = 0
sdfgi_energy = 0.1
glow_normalized = true
glow_bloom = 0.1

[sub_resource type="CylinderShape3D" id="CylinderShape3D_y8b7r"]
radius = 2.0

[node name="TownDemo" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_color = Color(0.639216, 0.411765, 0.278431, 1)
light_energy = 1.2
light_indirect_energy = 0.0
light_volumetric_fog_energy = 1.2
shadow_enabled = true
shadow_blur = 2.0
sky_mode = 1

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_color = Color(0.360784, 0.588235, 0.721569, 1)
light_energy = 1.2
light_indirect_energy = 0.0
light_volumetric_fog_energy = 1.2
sky_mode = 1

[node name="DirectionalLight3D3" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_energy = 0.25
light_indirect_energy = 0.0
shadow_enabled = true
shadow_blur = 2.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ejlgs")

[node name="ButterSnail" parent="." instance=ExtResource("2_wr5qg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.38419e-07, 0.625135, -5.93307)
angular_damp = 1.0
trail_make_height = 0.6

[node name="town" parent="." instance=ExtResource("3_lynx1")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 3.2338, 0, 1.92071)

[node name="main_stairs" parent="town" index="7"]
physics_material_override = ExtResource("3_a4vgl")

[node name="StaticBody3D" parent="town/plaza_floor" index="0"]
physics_material_override = ExtResource("3_a4vgl")

[node name="outer_house4_001" parent="town" index="14"]
visible = false

[node name="StaticBody3D" parent="town/big_stall" index="0"]
physics_material_override = ExtResource("3_a4vgl")

[node name="StaticBody3D" parent="town/big_stall_plank" index="0"]
physics_material_override = ExtResource("3_a4vgl")

[node name="CollisionShape3D" parent="town/big_stall_plank/StaticBody3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, -3.55271e-15, -3.55271e-15, 1, 0, 0, 0)

[node name="StaticBody3D" parent="town/farm_hills_001" index="0"]
physics_material_override = ExtResource("3_a4vgl")

[node name="Item" parent="." instance=ExtResource("4_xcfxg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.401303, -10.342)

[node name="ItemDropoff" parent="." node_paths=PackedStringArray("dropoff_loc", "item_required") instance=ExtResource("5_ugm2w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.23927, 0.340975, -11.3189)
collision_layer = 8
collision_mask = 2
dropoff_loc = NodePath("Marker3D")
item_required = NodePath("../Item")

[node name="CollisionShape3D" type="CollisionShape3D" parent="ItemDropoff"]
shape = SubResource("CylinderShape3D_y8b7r")

[node name="Marker3D" type="Marker3D" parent="ItemDropoff"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.562757, 0.746811, -0.662117)
gizmo_extents = 1.0

[editable path="town"]
